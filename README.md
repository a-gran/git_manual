# 🚀 40 Основных команд Git

Руководство по основным командам Git для эффективной работы.

---

## 📋 Содержание

1. [git init](#1-git-init) - инициализация нового репозитория
2. [git add](#2-git-add) - добавление изменений в индекс
3. [git commit](#3-git-commit) - фиксация изменений с сообщением
4. [git push](#4-git-push) - отправка изменений на удаленный сервер
5. [git pull](#5-git-pull) - получение и слияние изменений
6. [git remote](#6-git-remote) - управление удаленными репозиториями
7. [git branch](#7-git-branch) - управление ветками
8. [git fetch](#8-git-fetch) - получение данных без слияния
9. [git checkout](#9-git-checkout) - переключение на ветку
10. [git merge](#10-git-merge) - объединение веток
11. [git status](#11-git-status) - состояние репозитория
12. [git reset](#12-git-reset) - откат к коммиту
13. [git clone](#13-git-clone) - клонирование репозитория
14. [git log](#14-git-log) - история коммитов
15. [git diff](#15-git-diff) - различия между коммитами/ветками
16. [git stash](#16-git-stash) - временное сохранение изменений
17. [git tag](#17-git-tag) - управление тегами
18. [git rebase](#18-git-rebase) - перенос коммитов на новую базу
19. [git cherry-pick](#19-git-cherry-pick) - применение конкретного коммита
20. [git revert](#20-git-revert) - отмена коммита новым коммитом
21. [git rm](#21-git-rm) - удаление файлов из репозитория
22. [git mv](#22-git-mv) - перемещение/переименование файлов
23. [git show](#23-git-show) - подробная информация об объекте
24. [git config](#24-git-config) - управление настройками
25. [git blame](#25-git-blame) - авторство строк файла
26. [git clean](#26-git-clean) - удаление неотслеживаемых файлов
27. [git reflog](#27-git-reflog) - история изменений HEAD
28. [git switch](#28-git-switch) - переключение веток (новая команда)
29. [git restore](#29-git-restore) - восстановление файлов (новая команда)
30. [git shortlog](#30-git-shortlog) - статистика коммитов по авторам
31. [git grep](#31-git-grep) - поиск текста в репозитории
32. [git bisect](#32-git-bisect) - поиск коммита с ошибкой
33. [git submodule](#33-git-submodule) - управление подмодулями
34. [git worktree](#34-git-worktree) - работа с несколькими директориями
35. [git archive](#35-git-archive) - создание архива проекта
36. [git describe](#36-git-describe) - описание текущей версии
37. [git notes](#37-git-notes) - добавление заметок к коммитам
38. [git apply](#38-git-apply) - применение патча
39. [git format-patch](#39-git-format-patch) - создание патчей
40. [git gc](#40-git-gc) - очистка и оптимизация репозитория

---

## 1. git init

**Назначение:** Инициализирует новый Git-репозиторий в текущей директории.

### Описание
Команда `git init` создает новый репозиторий Git в текущей папке, создавая скрытую директорию `.git`, которая содержит всю необходимую структуру для управления версиями.

### Примеры использования
```bash
$ mkdir railsapp
$ cd railsapp
$ git init
```

### Когда использовать
- При создании нового проекта
- Когда нужно начать отслеживать изменения в существующем проекте
- Для превращения обычной директории в Git-репозиторий

---

## 2. git add

**Назначение:** Добавляет изменения в текущей директории и вложенных папках в индекс (staging area).

### Описание
Команда `git add` помещает изменения файлов в промежуточную область (индекс), подготавливая их к коммиту. Это позволяет контролировать, какие именно изменения будут зафиксированы.

### Примеры использования
```bash
$ git add README.md
```

### Основные варианты
- `git add <filename>` — добавить конкретный файл
- `git add .` — добавить все изменения в текущей директории
- `git add -A` — добавить все изменения во всем репозитории

---

## 3. git commit

**Назначение:** Фиксирует изменения из индекса с сообщением коммита.

### Описание
Команда `git commit` создает снимок (snapshot) текущего состояния проекта, сохраняя все изменения из staging area в историю репозитория с описательным сообщением.

### Примеры использования
```bash
$ git add app.css
$ git commit -m "Initial commit"
```

### Основные опции
- `-m "message"` — добавить сообщение коммита в одну строку
- `-a` — автоматически добавить все измененные файлы
- `--amend` — изменить последний коммит

---

## 4. git push

**Назначение:** Отправляет локальные изменения в удаленный репозиторий.

### Описание
Команда `git push` загружает все закоммиченные изменения из локального репозитория на удаленный сервер (например, GitHub, GitLab), делая их доступными для других разработчиков.

### Примеры использования
```bash
$ git add .
$ git commit -m "Update files"
$ git push origin main
```

### Основные варианты
- `git push origin <branch>` — отправить ветку на удаленный репозиторий
- `git push -u origin <branch>` — отправить и установить upstream ветку
- `git push --force` — принудительная отправка (осторожно!)

---

## 5. git pull

**Назначение:** Получает изменения из удаленного репозитория и сливает их в текущую ветку.

### Описание
Команда `git pull` загружает последние изменения из удаленного репозитория и автоматически интегрирует их в вашу локальную ветку. Это комбинация команд `git fetch` и `git merge`.

### Примеры использования
```bash
$ git status
$ git pull origin main
$ git log --oneline
```

### Когда использовать
- Перед началом работы для синхронизации с командой
- Для получения последних изменений из удаленного репозитория
- Для разрешения конфликтов при совместной работе

---

## 6. git remote

**Назначение:** Добавляет удаленный репозиторий, отображает список удаленных, переименовывает.

### Описание
Команда `git remote` управляет подключениями к удаленным репозиториям, позволяя добавлять, удалять и просматривать настроенные удаленные серверы.

### Примеры использования
```bash
$ git remote add origin <url>
$ git remote -v
$ git remote rename origin upstream
```

### Основные операции
- `git remote add <name> <url>` — добавить новый удаленный репозиторий
- `git remote -v` — показать список удаленных репозиториев с URL
- `git remote remove <name>` — удалить удаленный репозиторий

---

## 7. git branch

**Назначение:** Показывает список веток, создает новую ветку и проверяет её наличие.

### Описание
Команда `git branch` используется для управления ветками в репозитории. Ветки позволяют работать над разными функциями изолированно, не затрагивая основной код.

### Примеры использования
```bash
$ git branch
$ git branch feature-login
$ git branch
```

### Основные операции
- `git branch` — показать список всех локальных веток
- `git branch <name>` — создать новую ветку
- `git branch -d <name>` — удалить ветку
- `git branch -a` — показать все ветки (локальные и удаленные)

---

## 8. git fetch

**Назначение:** Получает последние данные из удаленного репозитория, но не вносит их в текущую рабочую директорию.

### Описание
Команда `git fetch` загружает изменения из удаленного репозитория, но не применяет их автоматически. Это позволяет просмотреть изменения перед слиянием.

### Примеры использования
```bash
$ git fetch origin
```

### Отличие от git pull
- `git fetch` — только загружает изменения
- `git pull` — загружает и автоматически сливает изменения

---

## 9. git checkout

**Назначение:** Переключается на указанную ветку.

### Описание
Команда `git checkout` переключает вашу рабочую директорию на другую ветку, позволяя работать над различными задачами изолированно.

### Примеры использования
```bash
$ git branch
$ git checkout feature-login
$ git branch
```

### Дополнительные возможности
- `git checkout -b <name>` — создать и сразу переключиться на новую ветку
- `git checkout <commit-hash>` — переключиться на конкретный коммит
- `git checkout -- <file>` — отменить изменения в файле

💡 **Примечание:** В новых версиях Git рекомендуется использовать `git switch` для переключения веток.

---

## 10. git merge

**Назначение:** Объединяет указанную ветку с текущей (в данном случае — с main).

### Описание
Команда `git merge` интегрирует изменения из одной ветки в другую, объединяя историю коммитов.

### Примеры использования
```bash
$ git checkout main
$ git merge feature-login
$ git log --oneline
```

### Типы слияния
- **Fast-forward merge** — простое перемещение указателя ветки
- **Three-way merge** — создание нового коммита слияния
- **Squash merge** — объединение всех коммитов в один

### Разрешение конфликтов
При возникновении конфликтов Git попросит вас разрешить их вручную перед завершением слияния.

---

## 11. git status

**Назначение:** Показывает текущее состояние репозитория, включая незафиксированные изменения.

### Описание
Команда `git status` отображает состояние рабочей директории и индекса, показывая, какие файлы изменены, добавлены в staging area или не отслеживаются.

### Примеры использования
```bash
$ git status
$ echo "Data Added" >> hello.txt
$ git status
```

### Информация в выводе
- Текущая ветка
- Статус синхронизации с удаленным репозиторием
- Файлы в staging area (готовые к коммиту)
- Измененные файлы (не в staging area)
- Неотслеживаемые файлы

---

## 12. git reset

**Назначение:** Откатывает текущую ветку к указанному коммиту.

### Описание
Команда `git reset` перемещает указатель HEAD и текущей ветки на указанный коммит, позволяя отменить изменения.

### Примеры использования
```bash
$ git log --oneline
$ git reset --hard <commit-hash>
$ git status
```

### Режимы работы
- `--soft` — откатывает только HEAD, изменения остаются в staging area
- `--mixed` (по умолчанию) — откатывает HEAD и staging area
- `--hard` — откатывает всё, включая рабочую директорию (⚠️ осторожно!)

### ⚠️ Предупреждение
Команда `git reset --hard` безвозвратно удаляет незакоммиченные изменения. Используйте с осторожностью!

---

## 13. git clone

**Назначение:** Клонирует (копирует) удаленный репозиторий на локальный компьютер.

### Описание
Команда `git clone` создает полную копию удаленного репозитория, включая всю историю коммитов, ветки и файлы.

### Примеры использования
```bash
$ git clone https://github.com/username/repository.git
$ cd repository
$ git status
```

### Основные варианты
- `git clone <url>` — клонировать репозиторий
- `git clone <url> <directory>` — клонировать в указанную директорию
- `git clone --depth 1 <url>` — клонировать только последний коммит (shallow clone)

### Когда использовать
- При начале работы над существующим проектом
- Для получения копии open-source проекта
- Для создания локальной копии удаленного репозитория

---

## 14. git log

**Назначение:** Показывает историю коммитов в репозитории.

### Описание
Команда `git log` отображает список коммитов в обратном хронологическом порядке, показывая автора, дату и сообщение каждого коммита.

### Примеры использования
```bash
$ git log
$ git log --oneline
$ git log --graph --all --decorate
```

### Полезные опции
- `--oneline` — компактный вывод (один коммит на строку)
- `--graph` — графическое представление веток
- `--author="Name"` — фильтр по автору
- `-n 5` — показать последние 5 коммитов
- `--since="2 weeks ago"` — коммиты за последние 2 недели

---

## 15. git diff

**Назначение:** Показывает различия между коммитами, ветками или рабочей директорией.

### Описание
Команда `git diff` отображает изменения в файлах, позволяя увидеть, что именно было добавлено или удалено.

### Примеры использования
```bash
$ git diff
$ git diff --staged
$ git diff main feature-branch
```

### Основные варианты
- `git diff` — показать неиндексированные изменения
- `git diff --staged` — показать изменения в staging area
- `git diff <branch1> <branch2>` — сравнить две ветки
- `git diff <commit1> <commit2>` — сравнить два коммита

### Когда использовать
- Перед коммитом для проверки изменений
- Для сравнения веток перед слиянием
- Для анализа изменений между версиями

---

## 16. git stash

**Назначение:** Временно сохраняет незакоммиченные изменения для последующего восстановления.

### Описание
Команда `git stash` позволяет отложить текущие изменения, очистить рабочую директорию и вернуться к ним позже.

### Примеры использования
```bash
$ git stash
$ git checkout other-branch
$ git stash pop
```

### Основные операции
- `git stash` — сохранить изменения
- `git stash save "описание"` — сохранить с комментарием
- `git stash list` — показать список сохраненных stash
- `git stash pop` — применить и удалить последний stash
- `git stash apply` — применить без удаления
- `git stash drop` — удалить последний stash

### Когда использовать
- При необходимости срочно переключиться на другую ветку
- Для сохранения незавершенной работы
- При конфликтах во время `git pull`

---

## 17. git tag

**Назначение:** Создает, просматривает и удаляет теги (метки) для важных точек в истории.

### Описание
Команда `git tag` используется для создания постоянных ссылок на конкретные коммиты, обычно для обозначения релизов.

### Примеры использования
```bash
$ git tag v1.0.0
$ git tag -a v1.0.1 -m "Release version 1.0.1"
$ git push origin v1.0.0
```

### Основные операции
- `git tag` — показать все теги
- `git tag <name>` — создать легковесный тег
- `git tag -a <name> -m "message"` — создать аннотированный тег
- `git tag -d <name>` — удалить локальный тег
- `git push origin <tag>` — отправить тег на удаленный репозиторий

### Типы тегов
- **Легковесный** — просто указатель на коммит
- **Аннотированный** — полный объект Git с метаданными

---

## 18. git rebase

**Назначение:** Переносит коммиты текущей ветки на другую базу.

### Описание
Команда `git rebase` перезаписывает историю коммитов, перемещая или объединяя их, создавая более линейную и чистую историю.

### Примеры использования
```bash
$ git checkout feature-branch
$ git rebase main
$ git rebase -i HEAD~3
```

### Основные режимы
- `git rebase <branch>` — переместить коммиты на другую ветку
- `git rebase -i <commit>` — интерактивный rebase для редактирования истории
- `git rebase --continue` — продолжить после разрешения конфликтов
- `git rebase --abort` — отменить rebase

### ⚠️ Предупреждение
Не используйте rebase для публичных веток, которые используют другие разработчики!

### Когда использовать
- Для поддержания чистой линейной истории
- Перед слиянием feature-ветки в main
- Для объединения нескольких мелких коммитов

---

## 19. git cherry-pick

**Назначение:** Применяет изменения из конкретного коммита к текущей ветке.

### Описание
Команда `git cherry-pick` позволяет выборочно применять коммиты из одной ветки в другую, не сливая все изменения.

### Примеры использования
```bash
$ git log --oneline feature-branch
$ git checkout main
$ git cherry-pick abc123
```

### Основные опции
- `git cherry-pick <commit>` — применить один коммит
- `git cherry-pick <commit1> <commit2>` — применить несколько коммитов
- `git cherry-pick --continue` — продолжить после разрешения конфликтов
- `git cherry-pick --abort` — отменить cherry-pick

### Когда использовать
- Для переноса отдельных исправлений между ветками
- При необходимости применить hotfix к нескольким версиям
- Для выборочного применения функциональности

---

## 20. git revert

**Назначение:** Создает новый коммит, отменяющий изменения указанного коммита.

### Описание
Команда `git revert` безопасно отменяет изменения, создавая новый коммит, который содержит обратные изменения. История не перезаписывается.

### Примеры использования
```bash
$ git log --oneline
$ git revert abc123
$ git push origin main
```

### Основные опции
- `git revert <commit>` — отменить коммит
- `git revert <commit1>..<commit2>` — отменить диапазон коммитов
- `git revert --no-commit <commit>` — отменить без создания коммита
- `git revert --abort` — отменить операцию revert

### Отличие от git reset
- `git revert` — создает новый коммит, безопасно для публичных веток
- `git reset` — удаляет коммиты из истории, опасно для публичных веток

---

## 21. git rm

**Назначение:** Удаляет файлы из рабочей директории и индекса Git.

### Описание
Команда `git rm` удаляет файлы из репозитория и автоматически индексирует это удаление для следующего коммита.

### Примеры использования
```bash
$ git rm old-file.txt
$ git commit -m "Remove old file"
$ git rm --cached config.env
```

### Основные опции
- `git rm <file>` — удалить файл
- `git rm --cached <file>` — удалить из Git, но оставить в файловой системе
- `git rm -r <directory>` — удалить директорию рекурсивно
- `git rm -f <file>` — принудительное удаление

### Когда использовать
- Для удаления ненужных файлов из репозитория
- Для прекращения отслеживания файлов (с `--cached`)
- При очистке проекта

---

## 22. git mv

**Назначение:** Перемещает или переименовывает файлы и автоматически индексирует изменения.

### Описание
Команда `git mv` перемещает или переименовывает файлы, сохраняя историю изменений файла в Git.

### Примеры использования
```bash
$ git mv old-name.txt new-name.txt
$ git mv file.js src/components/
$ git commit -m "Rename file"
```

### Эквивалент команд
```bash
$ mv old-name.txt new-name.txt
$ git rm old-name.txt
$ git add new-name.txt
```

### Когда использовать
- Для переименования файлов с сохранением истории
- При реорганизации структуры проекта
- Для перемещения файлов между директориями

---

## 23. git show

**Назначение:** Показывает подробную информацию о Git-объекте (коммите, теге, дереве).

### Описание
Команда `git show` отображает содержимое коммита, включая метаданные и изменения в файлах.

### Примеры использования
```bash
$ git show
$ git show abc123
$ git show v1.0.0
```

### Основные варианты
- `git show` — показать последний коммит
- `git show <commit>` — показать конкретный коммит
- `git show <commit>:<file>` — показать файл из определенного коммита
- `git show --stat` — показать статистику изменений

### Когда использовать
- Для просмотра деталей конкретного коммита
- При анализе изменений в истории
- Для проверки содержимого тега

---

## 24. git config

**Назначение:** Управляет настройками Git (локальными и глобальными).

### Описание
Команда `git config` позволяет настраивать параметры Git на уровне системы, пользователя или конкретного репозитория.

### Примеры использования
```bash
$ git config --global user.name "Your Name"
$ git config --global user.email "your@email.com"
$ git config --list
```

### Основные операции
- `git config --global <key> <value>` — установить глобальную настройку
- `git config --local <key> <value>` — установить настройку для репозитория
- `git config --list` — показать все настройки
- `git config --get <key>` — получить значение настройки
- `git config --unset <key>` — удалить настройку

### Часто используемые настройки
```bash
$ git config --global core.editor "code --wait"
$ git config --global init.defaultBranch main
$ git config --global pull.rebase false
```

---

## 25. git blame

**Назначение:** Показывает, кто и когда изменил каждую строку файла.

### Описание
Команда `git blame` отображает аннотации для каждой строки файла, показывая автора, дату и коммит последнего изменения.

### Примеры использования
```bash
$ git blame app.js
$ git blame -L 10,20 app.js
$ git blame -e app.js
```

### Основные опции
- `git blame <file>` — показать авторов всех строк
- `git blame -L <start>,<end> <file>` — для определенных строк
- `git blame -e` — показать email вместо имени
- `git blame -w` — игнорировать изменения пробелов

### Когда использовать
- Для поиска автора конкретного изменения
- При расследовании причин бага
- Для понимания истории изменений кода

---

## 26. git clean

**Назначение:** Удаляет неотслеживаемые файлы из рабочей директории.

### Описание
Команда `git clean` очищает рабочую директорию от файлов, которые не отслеживаются Git, помогая поддерживать чистоту проекта.

### Примеры использования
```bash
$ git clean -n
$ git clean -f
$ git clean -fd
```

### Основные опции
- `git clean -n` — показать, что будет удалено (dry run)
- `git clean -f` — удалить неотслеживаемые файлы
- `git clean -fd` — удалить файлы и директории
- `git clean -fx` — удалить также игнорируемые файлы

### ⚠️ Предупреждение
Удаленные файлы не могут быть восстановлены! Всегда используйте `-n` для предварительного просмотра.

### Когда использовать
- После неудачной сборки проекта
- Для очистки временных файлов
- Перед переключением веток

---

## 27. git reflog

**Назначение:** Показывает историю всех изменений указателя HEAD.

### Описание
Команда `git reflog` ведет журнал всех действий, которые изменяли HEAD, позволяя восстановить "потерянные" коммиты.

### Примеры использования
```bash
$ git reflog
$ git reflog show --all
$ git reset --hard HEAD@{2}
```

### Основные операции
- `git reflog` — показать историю HEAD
- `git reflog show <branch>` — история конкретной ветки
- `git reflog expire` — очистить старые записи

### Когда использовать
- Для восстановления после ошибочного `git reset --hard`
- При потере коммитов после неудачного rebase
- Для отмены любых изменений в истории
- Как "страховочная сеть" Git

### Пример восстановления
```bash
$ git reflog
abc123 HEAD@{0}: reset: moving to HEAD~1
def456 HEAD@{1}: commit: Important feature
$ git reset --hard def456
```

---

## 28. git switch

**Назначение:** Переключается между ветками (современная альтернатива git checkout).

### Описание
Команда `git switch` — это новая команда (Git 2.23+), специально предназначенная для переключения веток, в отличие от многофункциональной `git checkout`.

### Примеры использования
```bash
$ git switch main
$ git switch -c new-feature
$ git switch -
```

### Основные опции
- `git switch <branch>` — переключиться на ветку
- `git switch -c <branch>` — создать и переключиться на новую ветку
- `git switch -` — переключиться на предыдущую ветку
- `git switch --detach <commit>` — перейти в detached HEAD режим

### Преимущества перед git checkout
- Более понятное назначение команды
- Меньше риска ошибок
- Четкое разделение функциональности

---

## 29. git restore

**Назначение:** Восстанавливает файлы в рабочей директории (современная альтернатива git checkout для файлов).

### Описание
Команда `git restore` (Git 2.23+) используется для отмены изменений в файлах и управления staging area.

### Примеры использования
```bash
$ git restore file.txt
$ git restore --staged file.txt
$ git restore --source=HEAD~2 file.txt
```

### Основные опции
- `git restore <file>` — отменить изменения в файле
- `git restore --staged <file>` — убрать файл из staging area
- `git restore --source=<commit> <file>` — восстановить файл из коммита
- `git restore .` — восстановить все файлы

### Когда использовать
- Для отмены локальных изменений в файлах
- Для удаления файлов из staging area
- Для восстановления файлов из прошлых коммитов

---

## 30. git shortlog

**Назначение:** Показывает сводную статистику коммитов по авторам.

### Описание
Команда `git shortlog` группирует коммиты по авторам и выводит краткую сводку, полезную для создания changelog или анализа вклада.

### Примеры использования
```bash
$ git shortlog
$ git shortlog -sn
$ git shortlog --since="1 month ago"
```

### Основные опции
- `git shortlog` — группированный список коммитов
- `git shortlog -s` — показать только количество коммитов
- `git shortlog -n` — сортировать по количеству коммитов
- `git shortlog -sn --all` — статистика по всем веткам
- `git shortlog --email` — показать email авторов

### Когда использовать
- Для создания списка изменений (changelog)
- Для анализа активности разработчиков
- При подготовке отчетов о проекте
- Для определения основных контрибьюторов

---

## 31. git grep

**Назначение:** Ищет текст в файлах репозитория, включая всю историю коммитов.

### Описание
Команда `git grep` выполняет быстрый поиск по содержимому файлов в рабочей директории или в любом коммите, работая быстрее обычного `grep` благодаря индексу Git.

### Примеры использования
```bash
$ git grep "function"
$ git grep -n "TODO"
$ git grep "config" v1.0.0
```

### Основные опции
- `git grep <pattern>` — найти текст в рабочей директории
- `git grep -n <pattern>` — показать номера строк
- `git grep -i <pattern>` — поиск без учета регистра
- `git grep <pattern> <commit>` — искать в конкретном коммите
- `git grep -l <pattern>` — показать только имена файлов

### Когда использовать
- Для быстрого поиска по всему проекту
- При поиске определенных функций или переменных
- Для анализа использования API в коде
- При рефакторинге для поиска всех упоминаний

---

## 32. git bisect

**Назначение:** Использует бинарный поиск для нахождения коммита, который внес ошибку.

### Описание
Команда `git bisect` автоматизирует процесс поиска коммита, в котором появился баг, используя метод бинарного поиска по истории коммитов.

### Примеры использования
```bash
$ git bisect start
$ git bisect bad
$ git bisect good v1.0.0
# Тестируйте код...
$ git bisect good  # или bad
$ git bisect reset
```

### Процесс работы
1. `git bisect start` — начать процесс
2. `git bisect bad [commit]` — пометить плохой коммит
3. `git bisect good [commit]` — пометить хороший коммит
4. Git автоматически переключает на средний коммит
5. Тестируете и помечаете как good или bad
6. `git bisect reset` — вернуться к исходному состоянию

### Автоматизация
```bash
$ git bisect start HEAD v1.0.0
$ git bisect run npm test
```

### Когда использовать
- При поиске коммита, внесшего регрессию
- Когда неизвестно, где появилась ошибка
- Для автоматизированного тестирования истории

---

## 33. git submodule

**Назначение:** Управляет подмодулями — вложенными репозиториями внутри основного.

### Описание
Команда `git submodule` позволяет включать другие Git-репозитории в ваш проект, сохраняя их как отдельные сущности с собственной историей.

### Примеры использования
```bash
$ git submodule add https://github.com/user/lib.git libs/lib
$ git submodule init
$ git submodule update
```

### Основные операции
- `git submodule add <url> <path>` — добавить подмодуль
- `git submodule init` — инициализировать подмодули
- `git submodule update` — обновить подмодули до нужной версии
- `git submodule update --remote` — обновить до последней версии
- `git clone --recurse-submodules <url>` — клонировать с подмодулями

### Работа с подмодулями
```bash
# Клонирование репозитория с подмодулями
$ git clone --recurse-submodules https://github.com/user/project.git

# Обновление всех подмодулей
$ git submodule update --init --recursive
```

### Когда использовать
- При интеграции внешних библиотек
- Для модульной структуры больших проектов
- При использовании общих компонентов между проектами

---

## 34. git worktree

**Назначение:** Позволяет работать с несколькими рабочими директориями одновременно.

### Описание
Команда `git worktree` создает дополнительные рабочие директории, связанные с одним репозиторием, позволяя работать над разными ветками параллельно.

### Примеры использования
```bash
$ git worktree add ../project-feature feature-branch
$ git worktree list
$ git worktree remove ../project-feature
```

### Основные операции
- `git worktree add <path> <branch>` — создать новую рабочую директорию
- `git worktree list` — показать все рабочие директории
- `git worktree remove <path>` — удалить рабочую директорию
- `git worktree prune` — очистить устаревшие записи

### Преимущества
- Нет необходимости в `git stash` при переключении задач
- Можно запускать тесты в одной директории, пока работаете в другой
- Удобно для code review и сравнения веток

### Когда использовать
- При работе над несколькими задачами одновременно
- Для параллельного тестирования разных веток
- При необходимости срочно переключиться на hotfix

---

## 35. git archive

**Назначение:** Создает архив файлов из репозитория без Git-метаданных.

### Описание
Команда `git archive` упаковывает файлы проекта в архив (zip, tar), исключая папку `.git` и файлы из `.gitignore`.

### Примеры использования
```bash
$ git archive --format=zip --output=project.zip HEAD
$ git archive --format=tar.gz --output=v1.0.tar.gz v1.0.0
$ git archive --format=zip HEAD:src/ > src.zip
```

### Основные опции
- `--format=<format>` — формат архива (zip, tar, tar.gz)
- `--output=<file>` — имя выходного файла
- `--prefix=<prefix>/` — добавить префикс к путям в архиве
- `HEAD` — архивировать текущее состояние
- `<commit>` — архивировать конкретный коммит или тег

### Примеры с опциями
```bash
# Создать архив с префиксом
$ git archive --format=tar.gz --prefix=project-1.0/ --output=project-1.0.tar.gz v1.0.0

# Архивировать только определенную директорию
$ git archive --format=zip HEAD:docs/ > documentation.zip
```

### Когда использовать
- Для создания релизных архивов
- При подготовке кода к развертыванию
- Для отправки кода без истории Git
- При создании дистрибутивов проекта

---

## 36. git describe

**Назначение:** Показывает самый близкий тег к текущему коммиту с дополнительной информацией.

### Описание
Команда `git describe` находит ближайший аннотированный тег и создает читаемое описание текущей позиции в истории.

### Примеры использования
```bash
$ git describe
v1.2.3-5-g3a2b1c4

$ git describe --tags
$ git describe --abbrev=0
```

### Формат вывода
```
v1.2.3-5-g3a2b1c4
│      │ │
│      │ └─ хеш коммита (с префиксом 'g')
│      └─── количество коммитов после тега
└────────── ближайший тег
```

### Основные опции
- `git describe` — описать текущий коммит
- `git describe --tags` — использовать любые теги (не только аннотированные)
- `git describe --abbrev=0` — показать только имя тега
- `git describe --always` — показать хеш, если тегов нет
- `git describe <commit>` — описать конкретный коммит

### Когда использовать
- Для автоматической генерации версий в сборках
- При создании информации о версии в приложении
- Для идентификации текущего релиза
- В CI/CD пайплайнах для версионирования

---

## 37. git notes

**Назначение:** Добавляет заметки к коммитам без изменения самих коммитов.

### Описание
Команда `git notes` позволяет прикреплять дополнительную информацию к коммитам, не изменяя их хеш. Заметки хранятся отдельно и могут синхронизироваться с удаленным репозиторием.

### Примеры использования
```bash
$ git notes add -m "Reviewed by John" HEAD
$ git notes show HEAD
$ git log --show-notes
```

### Основные операции
- `git notes add -m "text" <commit>` — добавить заметку
- `git notes show <commit>` — показать заметку
- `git notes edit <commit>` — редактировать заметку
- `git notes remove <commit>` — удалить заметку
- `git notes list` — список всех заметок

### Синхронизация заметок
```bash
# Отправить заметки на удаленный репозиторий
$ git push origin refs/notes/*

# Получить заметки с удаленного репозитория
$ git fetch origin refs/notes/*:refs/notes/*
```

### Когда использовать
- Для добавления метаинформации о коммитах
- При code review для оставления комментариев
- Для отслеживания статуса проверок и одобрений
- При добавлении ссылок на связанные задачи

---

## 38. git apply

**Назначение:** Применяет патч к файлам в рабочей директории.

### Описание
Команда `git apply` применяет изменения из файла патча (созданного с помощью `git diff` или `git format-patch`) к текущей рабочей директории.

### Примеры использования
```bash
$ git diff > changes.patch
$ git apply changes.patch
$ git apply --check changes.patch
```

### Основные опции
- `git apply <patch>` — применить патч
- `git apply --check <patch>` — проверить возможность применения
- `git apply --stat <patch>` — показать статистику патча
- `git apply --reverse <patch>` — отменить патч
- `git apply --3way <patch>` — использовать трехстороннее слияние

### Проверка перед применением
```bash
# Проверить, можно ли применить патч
$ git apply --check feature.patch

# Показать статистику изменений
$ git apply --stat feature.patch

# Применить патч
$ git apply feature.patch
```

### Отличие от git am
- `git apply` — только применяет изменения к файлам
- `git am` — применяет патч и создает коммит

### Когда использовать
- Для применения изменений из патч-файлов
- При получении изменений через email или форумы
- Для переноса изменений между несвязанными репозиториями
- При работе с патчами от сообщества open-source

---

## 39. git format-patch

**Назначение:** Создает патчи в формате email для отправки коммитов.

### Описание
Команда `git format-patch` генерирует файлы патчей из коммитов в формате, подходящем для отправки по email или применения через `git am`.

### Примеры использования
```bash
$ git format-patch -1
$ git format-patch HEAD~3..HEAD
$ git format-patch main --stdout > feature.patch
```

### Основные опции
- `git format-patch -1` — создать патч для последнего коммита
- `git format-patch -n <commit>` — создать патчи для последних n коммитов
- `git format-patch <branch>` — патчи для коммитов не в указанной ветке
- `git format-patch --stdout` — вывести патч в stdout
- `git format-patch -o <dir>` — сохранить патчи в директорию

### Примеры использования
```bash
# Создать патчи для последних 3 коммитов
$ git format-patch -3

# Создать патчи для всех коммитов в feature-ветке
$ git format-patch main..feature-branch

# Создать один файл со всеми патчами
$ git format-patch main --stdout > all-changes.patch
```

### Применение созданных патчей
```bash
# Применить патч с созданием коммита
$ git am 0001-feature.patch
```

### Когда использовать
- Для отправки изменений в проекты через email
- При работе с mailing list разработчиков
- Для создания переносимых патчей
- В проектах, использующих email-workflow (Linux kernel, Git)

---

## 40. git gc

**Назначение:** Очищает и оптимизирует локальный репозиторий (garbage collection).

### Описание
Команда `git gc` выполняет сборку мусора в репозитории, удаляя недостижимые объекты, упаковывая файлы и оптимизируя производительность.

### Примеры использования
```bash
$ git gc
$ git gc --aggressive
$ git gc --prune=now
```

### Основные опции
- `git gc` — стандартная сборка мусора
- `git gc --aggressive` — более тщательная оптимизация (медленнее)
- `git gc --prune=<date>` — удалить объекты старше указанной даты
- `git gc --auto` — запустить только при необходимости

### Что делает команда
- Упаковывает loose objects в packfiles
- Удаляет недостижимые объекты (dangling commits)
- Оптимизирует структуру репозитория
- Обновляет индексы для быстрого поиска
- Удаляет устаревшие записи reflog

### Автоматический запуск
Git автоматически запускает `gc` при определенных операциях:
```bash
$ git gc --auto
```

### ⚠️ Предупреждение
Команда `git gc --aggressive` может занять много времени на больших репозиториях!

### Когда использовать
- При заметном замедлении работы репозитория
- После массовых операций (импорт, filter-branch)
- Для освобождения дискового пространства
- После удаления больших файлов из истории
- При подготовке репозитория к передаче

### Проверка размера репозитория
```bash
# До очистки
$ du -sh .git

# Запуск сборки мусора
$ git gc --aggressive --prune=now

# После очистки
$ du -sh .git
```

---

## 🎓 Дополнительные советы

### Рабочий процесс (Workflow)

```bash
# 1. Создание нового репозитория
$ git init

# 2. Добавление изменений
$ git add .
$ git commit -m "Описание изменений"

# 3. Подключение к удаленному репозиторию
$ git remote add origin <url>

# 4. Отправка изменений
$ git push -u origin main

# 5. Работа с ветками
$ git checkout -b feature-new
# ... внесение изменений ...
$ git add .
$ git commit -m "Добавлена новая функция"
$ git checkout main
$ git merge feature-new

# 6. Синхронизация с удаленным репозиторием
$ git pull origin main
```

### Полезные алиасы

Вы можете создать короткие команды для часто используемых операций:

```bash
$ git config --global alias.st status
$ git config --global alias.co checkout
$ git config --global alias.br branch
$ git config --global alias.ci commit
```

### Файл .gitignore

Создайте файл `.gitignore` для исключения ненужных файлов из репозитория:

```
# Зависимости
node_modules/
vendor/

# Файлы окружения
.env
.env.local

# Логи
*.log

# Временные файлы
*.tmp
*.swp
```

### Сниппеты

Можно несколько команд сделать последовательно в одном скрипте, чтобы сокрактить время

```bash
# Команда индексирует все изменения в файле, создает коммит с описанием к нему и отправляет в репозиторий
$ git add . && git commit -m "init" && git push -u origin main
```
---

## 📚 Полезные ресурсы

- [Официальная документация Git](https://git-scm.com/doc)
- [Pro Git Book](https://git-scm.com/book/ru/v2)
- [GitHub Guides](https://guides.github.com/)
- [GitLab Documentation](https://docs.gitlab.com/)
- [Визуализация в Git. Подборка популярных решений](https://habr.com/ru/articles/741016/)

---